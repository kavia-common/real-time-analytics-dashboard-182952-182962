{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for managing administrator authentication, including token storage, user info persistence, and API calls for login/signup/profile retrieval and logout. It provides a client-side implementation for admin auth workflows in a web app.", "external_files": ["./api.js"], "external_methods": ["getApiBaseUrl"], "published": ["getAdminToken", "setAdminToken", "clearAdminAuth", "getStoredAdminUser", "setStoredAdminUser", "adminAuthFetch", "adminSignup", "adminLogin", "getCurrentAdmin", "adminLogout"], "classes": [], "methods": [{"name": "getAdminToken()", "description": "Retrieves the stored admin JWT token from localStorage, or null if not present.", "scope": "", "scopeKind": ""}, {"name": "setAdminToken(token)", "description": "Stores or removes the admin JWT token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearAdminAuth()", "description": "Removes admin token and user data from localStorage to log out the admin.", "scope": "", "scopeKind": ""}, {"name": "getStoredAdminUser()", "description": "Retrieves the cached admin user object from localStorage if available.", "scope": "", "scopeKind": ""}, {"name": "setStoredAdminUser(user)", "description": "Stores or removes admin user object in localStorage.", "scope": "", "scopeKind": ""}, {"name": "adminAuthFetch(path, options = {})", "description": "Performs a fetch request with optional admin JWT authorization header, targeting the API base URL.", "scope": "", "scopeKind": ""}, {"name": "adminSignup({ username, email, password })", "description": "Calls the signup API endpoint to create a new admin, then stores token and user info upon success.", "scope": "", "scopeKind": ""}, {"name": "adminLogin({ email, password })", "description": "Performs login API call, stores token and user info on success, fetches current admin profile if user info is missing.", "scope": "", "scopeKind": ""}, {"name": "getCurrentAdmin()", "description": "Fetches the current admin's profile information from the API.", "scope": "", "scopeKind": ""}, {"name": "adminLogout()", "description": "Clears admin authentication data from storage, effectively logging out.", "scope": "", "scopeKind": ""}], "calls": ["getApiBaseUrl", "globalThis.localStorage.getItem", "globalThis.localStorage.setItem", "globalThis.localStorage.removeItem", "JSON.parse", "JSON.stringify", "fetch"], "search-terms": ["adminAuth", "localStorage", "JWT", "API authentication", "admin login", "admin signup", "admin profile", "admin logout"], "state": 2, "file_id": 23, "knowledge_revision": 197, "git_revision": "efcc1508abc2c98a28829857a1d02b4dce8a99f0", "revision_history": [{"71": ""}, {"150": "24aa6ade8da7ac2b8145450e00cf978e242c6809"}, {"155": "c4ec62b5d42dd787aa9933630f805a008ab055bb"}, {"197": "efcc1508abc2c98a28829857a1d02b4dce8a99f0"}], "ctags": [{"_type": "tag", "name": "ADMIN_TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^const ADMIN_TOKEN_KEY = \"admin_auth_token\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ADMIN_USER_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^const ADMIN_USER_KEY = \"admin_auth_user\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "adminAuthFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminAuthFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "adminLogin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminLogin({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "adminLogout", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminLogout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "adminSignup", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminSignup({ username, email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ username, email, password })"}, {"_type": "tag", "name": "clearAdminAuth", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function clearAdminAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAdminToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function getAdminToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentAdmin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function getCurrentAdmin() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getStoredAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function getStoredAdminUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setAdminToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function setAdminToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "setStoredAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function setStoredAdminUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}], "hash": "1876f9fe18d48655039a0a20bd9c3c81", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/adminAuth.js"}