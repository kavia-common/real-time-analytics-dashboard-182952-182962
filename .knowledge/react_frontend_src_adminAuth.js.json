{"is_source_file": true, "format": "JavaScript", "description": "This file contains utility functions for admin authentication in a React frontend. It manages storing, retrieving, and clearing admin tokens and user data in localStorage, as well as providing functions to perform API calls related to admin signup, login, fetching current admin info, and logout.", "external_files": ["./api.js"], "external_methods": ["getApiBaseUrl"], "published": ["getAdminToken", "setAdminToken", "clearAdminAuth", "getStoredAdminUser", "setStoredAdminUser", "adminAuthFetch", "adminSignup", "adminLogin", "getCurrentAdmin", "adminLogout"], "classes": [], "methods": [{"name": "getAdminToken()", "description": "Returns the stored Admin JWT token string or null if not present.", "scope": "", "scopeKind": ""}, {"name": "setAdminToken(token)", "description": "Persists the Admin JWT token to localStorage or removes it if token is falsy.", "scope": "", "scopeKind": ""}, {"name": "clearAdminAuth()", "description": "Clears admin token and admin user data from localStorage.", "scope": "", "scopeKind": ""}, {"name": "getStoredAdminUser()", "description": "Returns cached admin user object from localStorage if present.", "scope": "", "scopeKind": ""}, {"name": "setStoredAdminUser(user)", "description": "Persists admin user object to localStorage or removes it if user is falsy.", "scope": "", "scopeKind": ""}, {"name": "adminAuthFetch(path, options = {})", "description": "Wraps fetch API to include Authorization header with admin token if available.", "scope": "", "scopeKind": ""}, {"name": "adminSignup({ username, email, password })", "description": "Creates a new admin via API and stores token and user data on success.", "scope": "", "scopeKind": ""}, {"name": "adminLogin({ email, password })", "description": "Authenticates admin via API and stores token and user data on success.", "scope": "", "scopeKind": ""}, {"name": "getCurrentAdmin()", "description": "Fetches current admin profile from API.", "scope": "", "scopeKind": ""}, {"name": "adminLogout()", "description": "Clears admin auth data from local storage.", "scope": "", "scopeKind": ""}], "calls": ["getApiBaseUrl", "globalThis.localStorage.getItem", "globalThis.localStorage.setItem", "globalThis.localStorage.removeItem", "JSON.parse", "JSON.stringify", "adminAuthFetch", "res.json", "res.text"], "search-terms": ["adminAuth", "localStorage", "admin token", "admin user", "admin sign up", "admin login", "admin fetch", "admin logout", "authentication"], "state": 2, "file_id": 23, "knowledge_revision": 155, "git_revision": "c4ec62b5d42dd787aa9933630f805a008ab055bb", "revision_history": [{"71": ""}, {"150": "24aa6ade8da7ac2b8145450e00cf978e242c6809"}, {"155": "c4ec62b5d42dd787aa9933630f805a008ab055bb"}], "ctags": [{"_type": "tag", "name": "ADMIN_TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^const ADMIN_TOKEN_KEY = \"admin_auth_token\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ADMIN_USER_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^const ADMIN_USER_KEY = \"admin_auth_user\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "adminAuthFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminAuthFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "adminLogin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminLogin({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "adminLogout", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminLogout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "adminSignup", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function adminSignup({ username, email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ username, email, password })"}, {"_type": "tag", "name": "clearAdminAuth", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function clearAdminAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAdminToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function getAdminToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentAdmin", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export async function getCurrentAdmin() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getStoredAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function getStoredAdminUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setAdminToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function setAdminToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "setStoredAdminUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/adminAuth.js", "pattern": "/^export function setStoredAdminUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}], "hash": "b3b7e773f3dca41039ef7146422bda59", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/adminAuth.js"}