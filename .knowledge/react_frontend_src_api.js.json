{"is_source_file": true, "format": "JavaScript", "description": "This file provides a set of exported functions for interacting with a backend API in a web frontend. It includes functions to retrieve metrics (such as users answered today, event heatmaps, activity series), manage events, questions, answers, and authentication tokens. It also determines various configuration URLs for APIs and sockets based on environment variables or defaults.", "external_files": ["./adminAuth.js", "./auth.js"], "external_methods": ["getAdminToken", "getToken"], "published": ["getApiBaseUrl", "getUsersAnsweredToday", "getEventHeatmap", "getSocketUrl", "authorizedFetch", "getEvents", "createEvent", "getQuestions", "submitAnswer", "getEventTypeDistribution", "getSignupsPerDay", "getActiveUsers", "getTotalEvents", "getRecentActivity"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Resolves and returns the base URL for the API, considering environment variables for backend URL or falling back to default origin.", "scope": "", "scopeKind": ""}, {"name": "getUsersAnsweredToday()", "description": "Fetches the number of users answered today from the backend API.", "scope": "", "scopeKind": ""}, {"name": "getEventHeatmap(range = \"7d\")", "description": "Fetches event heatmap data over a specified time range ('24h', '7d').", "scope": "", "scopeKind": ""}, {"name": "getSocketUrl()", "description": "Determines the URL for the Socket.io server, prioritizing environment variables or defaulting to the current origin.", "scope": "", "scopeKind": ""}, {"name": "authorizedFetch(url, options = {})", "description": "A wrapper around fetch that attaches authorization tokens if available, based on the request URL.", "scope": "", "scopeKind": ""}, {"name": "getEvents()", "description": "Retrieves the latest events from the backend API.", "scope": "", "scopeKind": ""}, {"name": "createEvent(payload)", "description": "Creates a new event by sending a POST request with the provided payload.", "scope": "", "scopeKind": ""}, {"name": "getQuestions()", "description": "Fetches public multiple-choice questions.", "scope": "", "scopeKind": ""}, {"name": "submitAnswer(payload)", "description": "Submits an answer to the backend API.", "scope": "", "scopeKind": ""}, {"name": "getEventTypeDistribution()", "description": "Gets distribution data of event types for visualization.", "scope": "", "scopeKind": ""}, {"name": "getSignupsPerDay(range = \"\")", "description": "Retrieves sign-up counts per day over an optional range.", "scope": "", "scopeKind": ""}, {"name": "getActiveUsers(window = \"10m\")", "description": "Fetches recent active user count series over a specified window.", "scope": "", "scopeKind": ""}, {"name": "getTotalEvents()", "description": "Retrieves total number of events recorded.", "scope": "", "scopeKind": ""}, {"name": "getRecentActivity()", "description": "Gets the most recent user activity events.", "scope": "", "scopeKind": ""}], "calls": ["authorizedFetch", "getAdminToken", "getToken", "import.meta.env", "import", "console.warn"], "search-terms": ["getApiBaseUrl", "getUsersAnsweredToday", "event-heatmap", "socket url", "authorizedFetch", "fetch events", "create event", "questions", "submit answer", "event types", "signups per day", "active users", "total events", "recent activity"], "state": 2, "file_id": 16, "knowledge_revision": 157, "git_revision": "c4ec62b5d42dd787aa9933630f805a008ab055bb", "revision_history": [{"34": ""}, {"38": ""}, {"39": ""}, {"51": "198a76d44a20273b6763545856b2362df693e753"}, {"53": "198a76d44a20273b6763545856b2362df693e753"}, {"64": "3c58ee2e145c6f8306ae762acdcfc404ec66b759"}, {"72": "84af7ecffdd9018035239a3d1af921814778a6ec"}, {"80": "84af7ecffdd9018035239a3d1af921814778a6ec"}, {"81": "57433d69132310759764176ef1ba50f2bf24a9db"}, {"88": "56382c5bee40c89057f406794e80160126c37848"}, {"137": "895c78b50ba591c167bcf35633dd7bf4de46279f"}, {"148": "b539ee864de2e6182fba81a21a4509ca142724c3"}, {"153": "24aa6ade8da7ac2b8145450e00cf978e242c6809"}, {"157": "c4ec62b5d42dd787aa9933630f805a008ab055bb"}], "ctags": [{"_type": "tag", "name": "authorizedFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function authorizedFetch(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "createEvent", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function createEvent(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "defaultBase", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultBase = \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "defaultSocket", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultSocket =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getActiveUsers", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getActiveUsers(window = \"10m\") {$/", "language": "JavaScript", "kind": "function", "signature": "(window = \"10m\")"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEventHeatmap", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEventHeatmap(range = \"7d\") {$/", "language": "JavaScript", "kind": "function", "signature": "(range = \"7d\")"}, {"_type": "tag", "name": "getEventTypeDistribution", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEventTypeDistribution() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEvents", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEvents() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getQuestions", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getQuestions() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecentActivity", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getRecentActivity() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSignupsPerDay", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getSignupsPerDay(range = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(range = \"\")"}, {"_type": "tag", "name": "getSocketUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getSocketUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTotalEvents", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getTotalEvents() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUsersAnsweredToday", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getUsersAnsweredToday() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "submitAnswer", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function submitAnswer(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}], "hash": "75d4b40b1eff22b7a3e2dab394fa1270", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api.js"}