{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of API utility functions for a React frontend to interact with a backend service. It includes functions to get configuration URLs, fetch various metrics, send data, and handle authorization tokens dynamically. It serves as an interface layer between the React app and the backend API endpoints.", "external_files": ["./auth.js", "./adminAuth.js"], "external_methods": ["getToken", "getAdminToken"], "published": ["getApiBaseUrl", "getUsersAnsweredToday", "getEventHeatmap", "getSocketUrl", "authorizedFetch", "getEvents", "createEvent", "getQuestions", "submitAnswer", "getEventTypeDistribution", "getSignupsPerDay", "getActiveUsers", "getTotalEvents", "getRecentActivity"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Resolves the REST API base URL from environment variables or defaults to an empty string.", "scope": "", "scopeKind": ""}, {"name": "getUsersAnsweredToday()", "description": "Fetches data about users who answered questions today from the API.", "scope": "", "scopeKind": ""}, {"name": "getEventHeatmap(range = \"7d\")", "description": "Retrieves heatmap data for events over a specified range, defaulting to the last 7 days.", "scope": "", "scopeKind": ""}, {"name": "getSocketUrl()", "description": "Resolves the Socket.io server URL from environment variables or defaults to the window location origin.", "scope": "", "scopeKind": ""}, {"name": "authorizedFetch(url, options = {})", "description": "A fetch wrapper that attaches authorization tokens based on the request URL, supporting both user and admin tokens.", "scope": "", "scopeKind": ""}, {"name": "getEvents()", "description": "Fetches the latest events from the backend API.", "scope": "", "scopeKind": ""}, {"name": "createEvent(payload)", "description": "Creates a new event via POST request with provided payload.", "scope": "", "scopeKind": ""}, {"name": "getQuestions()", "description": "Fetches multiple-choice questions available publicly.", "scope": "", "scopeKind": ""}, {"name": "submitAnswer(payload)", "description": "Submits a user's answer to the backend.", "scope": "", "scopeKind": ""}, {"name": "getEventTypeDistribution()", "description": "Retrieves distribution data of event types for visualization.", "scope": "", "scopeKind": ""}, {"name": "getSignupsPerDay(range = \"\")", "description": "Fetches the number of signups per day over optional date ranges.", "scope": "", "scopeKind": ""}, {"name": "getActiveUsers(window = \"10m\")", "description": "Gets series data of active users over a specified window.", "scope": "", "scopeKind": ""}, {"name": "getTotalEvents()", "description": "Retrieves the total number of events recorded.", "scope": "", "scopeKind": ""}, {"name": "getRecentActivity()", "description": "Fetches recent user activity logs, typically last 10 events.", "scope": "", "scopeKind": ""}], "calls": ["import.meta?.env", "authorizedFetch()", "getAdminToken?.()", "getToken?.()", "f(url, ...)"], "search-terms": ["API utility functions", "React frontend", "environment URL resolution", "authorization token handling", "metrics fetching", "event creation", "heatmap data", "socket URL", "public API interface"], "state": 2, "file_id": 16, "knowledge_revision": 137, "git_revision": "895c78b50ba591c167bcf35633dd7bf4de46279f", "revision_history": [{"34": ""}, {"38": ""}, {"39": ""}, {"51": "198a76d44a20273b6763545856b2362df693e753"}, {"53": "198a76d44a20273b6763545856b2362df693e753"}, {"64": "3c58ee2e145c6f8306ae762acdcfc404ec66b759"}, {"72": "84af7ecffdd9018035239a3d1af921814778a6ec"}, {"80": "84af7ecffdd9018035239a3d1af921814778a6ec"}, {"81": "57433d69132310759764176ef1ba50f2bf24a9db"}, {"88": "56382c5bee40c89057f406794e80160126c37848"}, {"137": "895c78b50ba591c167bcf35633dd7bf4de46279f"}], "ctags": [{"_type": "tag", "name": "authorizedFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function authorizedFetch(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "createEvent", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function createEvent(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "defaultBase", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultBase = \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "defaultSocket", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultSocket =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getActiveUsers", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getActiveUsers(window = \"10m\") {$/", "language": "JavaScript", "kind": "function", "signature": "(window = \"10m\")"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEventHeatmap", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEventHeatmap(range = \"7d\") {$/", "language": "JavaScript", "kind": "function", "signature": "(range = \"7d\")"}, {"_type": "tag", "name": "getEventTypeDistribution", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEventTypeDistribution() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEvents", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEvents() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getQuestions", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getQuestions() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecentActivity", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getRecentActivity() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSignupsPerDay", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getSignupsPerDay(range = \"\") {$/", "language": "JavaScript", "kind": "function", "signature": "(range = \"\")"}, {"_type": "tag", "name": "getSocketUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getSocketUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getTotalEvents", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getTotalEvents() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getUsersAnsweredToday", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getUsersAnsweredToday() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "submitAnswer", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function submitAnswer(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}], "hash": "09f057f4e20ecff5e9bed7cf40feb352", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api.js"}