{"is_source_file": true, "format": "JavaScript", "description": "This source file exports functions for frontend API interactions, including URL resolution, authorized fetch wrapper, and various fetch functions for retrieving or posting data related to events, questions, answers, and metrics in a real-time analytics dashboard.", "external_files": ["./adminAuth.js", "./auth.js"], "external_methods": ["getAdminToken", "getToken"], "published": ["getApiBaseUrl", "getSocketUrl", "authorizedFetch", "getEvents", "createEvent", "getQuestions", "submitAnswer", "getEventTypeDistribution"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Resolves the REST API base URL from environment variables or defaults to the current origin.", "scope": "", "scopeKind": ""}, {"name": "getSocketUrl()", "description": "Resolves the Socket.io server URL from environment variables or defaults to the current origin.", "scope": "", "scopeKind": ""}, {"name": "authorizedFetch(url, options = {})", "description": "A wrapper around fetch that automatically attaches Authorization headers based on URL path, fetching tokens from auth modules.", "scope": "", "scopeKind": ""}, {"name": "getEvents()", "description": "Fetches the latest events from the server via GET /api/events.", "scope": "", "scopeKind": ""}, {"name": "createEvent(payload)", "description": "Creates a new event via POST /api/events with provided payload.", "scope": "", "scopeKind": ""}, {"name": "getQuestions()", "description": "Fetches public multiple-choice questions via GET /api/questions.", "scope": "", "scopeKind": ""}, {"name": "submitAnswer(payload)", "description": "Submits an answer via POST /api/answers with provided payload.", "scope": "", "scopeKind": ""}, {"name": "getEventTypeDistribution()", "description": "Fetches distribution data for event types from GET /api/metrics/event-types.", "scope": "", "scopeKind": ""}], "calls": ["import('./adminAuth.js')", "import('./auth.js')", "getAdminToken()", "getToken()", "fetch()"], "search-terms": ["api.js", "authorizedFetch", "getEvents", "createEvent", "Questions", "EventTypeDistribution", "SocketUrl", "baseUrl"], "state": 2, "file_id": 16, "knowledge_revision": 80, "git_revision": "84af7ecffdd9018035239a3d1af921814778a6ec", "revision_history": [{"34": ""}, {"38": ""}, {"39": ""}, {"51": "198a76d44a20273b6763545856b2362df693e753"}, {"53": "198a76d44a20273b6763545856b2362df693e753"}, {"64": "3c58ee2e145c6f8306ae762acdcfc404ec66b759"}, {"72": "84af7ecffdd9018035239a3d1af921814778a6ec"}, {"80": "84af7ecffdd9018035239a3d1af921814778a6ec"}], "ctags": [{"_type": "tag", "name": "authorizedFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function authorizedFetch(url, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, options = {})"}, {"_type": "tag", "name": "createEvent", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function createEvent(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "defaultBase", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultBase = \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "defaultSocket", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^const defaultSocket =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEventTypeDistribution", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEventTypeDistribution() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEvents", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getEvents() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getQuestions", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function getQuestions() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSocketUrl", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export function getSocketUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "submitAnswer", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/api.js", "pattern": "/^export async function submitAnswer(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}], "hash": "e6e1883c92b514cdd1de7b49335a8776", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api.js"}