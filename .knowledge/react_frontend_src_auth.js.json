{"is_source_file": true, "format": "JavaScript", "description": "This file implements authentication utilities for a React frontend. It manages token and user storage in localStorage, provides functions for login, signup, logout, and fetching current user info, and wraps fetch calls to include authorization headers.", "external_files": ["./api.js"], "external_methods": ["getApiBaseUrl"], "published": ["getToken", "setToken", "clearAuth", "getStoredUser", "setStoredUser", "authFetch", "signup", "login", "getCurrentUser", "logout"], "classes": [], "methods": [{"name": "getToken()", "description": "Returns the stored JWT token string from localStorage or null if not present.", "scope": "", "scopeKind": ""}, {"name": "setToken(token)", "description": "Stores or removes the JWT token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearAuth()", "description": "Removes token and user information from localStorage, effectively logging out the user.", "scope": "", "scopeKind": ""}, {"name": "getStoredUser()", "description": "Retrieves the cached user object from localStorage, parsed from JSON.", "scope": "", "scopeKind": ""}, {"name": "setStoredUser(user)", "description": "Stores or removes the user object in localStorage, serialized as JSON.", "scope": "", "scopeKind": ""}, {"name": "authFetch(path, options = {})", "description": "Wraps fetch to attach the Authorization header with the Bearer token when available, handling request URL and headers.", "scope": "", "scopeKind": ""}, {"name": "signup({ username, email, password })", "description": "Creates a new user via POST request, stores token and user info upon success.", "scope": "", "scopeKind": ""}, {"name": "login({ email, password })", "description": "Authenticates user via POST request, stores token and user info if provided.", "scope": "", "scopeKind": ""}, {"name": "getCurrentUser()", "description": "Fetches the current authenticated user profile from the backend.", "scope": "", "scopeKind": ""}, {"name": "logout()", "description": "Clears authentication info client-side, effectively logging out the user.", "scope": "", "scopeKind": ""}], "calls": ["getApiBaseUrl", "globalThis.localStorage.getItem", "globalThis.localStorage.setItem", "globalThis.localStorage.removeItem", "JSON.parse", "JSON.stringify", "authFetch", "getCurrentUser", "fetch"], "search-terms": ["auth token storage", "localStorage authentication", "fetch wrapper", "JWT handling", "user profile fetch"], "state": 2, "file_id": 17, "knowledge_revision": 149, "git_revision": "24aa6ade8da7ac2b8145450e00cf978e242c6809", "revision_history": [{"41": ""}, {"59": "3c58ee2e145c6f8306ae762acdcfc404ec66b759"}, {"149": "24aa6ade8da7ac2b8145450e00cf978e242c6809"}], "ctags": [{"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^const TOKEN_KEY = \"auth_token\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USER_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^const USER_KEY = \"auth_user\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function authFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "clearAuth", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function clearAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function getCurrentUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getStoredUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function getStoredUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function login({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function logout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setStoredUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function setStoredUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function setToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function signup({ username, email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ username, email, password })"}], "hash": "98c22a3e731e367bba4e23c8d9cc2384", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/auth.js"}