{"is_source_file": true, "format": "JavaScript", "description": "This file contains authentication utilities for a React frontend, including token storage, user profile management, and API request wrappers for login, signup, and current user retrieval.", "external_files": ["./api.js"], "external_methods": ["getApiBaseUrl"], "published": ["getToken", "setToken", "clearAuth", "getStoredUser", "setStoredUser", "authFetch", "signup", "login", "getCurrentUser", "logout"], "classes": [], "methods": [{"name": "getToken()", "description": "Returns the stored JWT token string or null if not present.", "scope": "", "scopeKind": ""}, {"name": "setToken(token)", "description": "Persists the JWT token to localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearAuth()", "description": "Clears token and user from storage.", "scope": "", "scopeKind": ""}, {"name": "getStoredUser()", "description": "Returns cached user object from localStorage if present.", "scope": "", "scopeKind": ""}, {"name": "setStoredUser(user)", "description": "Persists user object to localStorage.", "scope": "", "scopeKind": ""}, {"name": "authFetch(path, options = {})", "description": "Wrapper around fetch that attaches Authorization headers when token is available, handling API requests with proper headers.", "scope": "", "scopeKind": ""}, {"name": "signup({ username, email, password })", "description": "Calls API to create a new user account, storing token and user info on success.", "scope": "", "scopeKind": ""}, {"name": "login({ email, password })", "description": "Authenticates user via API, storing token and user info on success.", "scope": "", "scopeKind": ""}, {"name": "getCurrentUser()", "description": "Fetches current user profile from the server.", "scope": "", "scopeKind": ""}, {"name": "logout()", "description": "Clears authentication info from client storage.", "scope": "", "scopeKind": ""}], "calls": ["getApiBaseUrl", "globalThis.localStorage.getItem", "globalThis.localStorage.setItem", "globalThis.localStorage.removeItem", "JSON.parse", "JSON.stringify", "fetch"], "search-terms": ["auth.js", "token storage", "auth fetch wrapper", "user profile", "signup", "login", "logout", "API authorization"], "state": 2, "file_id": 17, "knowledge_revision": 154, "git_revision": "c4ec62b5d42dd787aa9933630f805a008ab055bb", "revision_history": [{"41": ""}, {"59": "3c58ee2e145c6f8306ae762acdcfc404ec66b759"}, {"149": "24aa6ade8da7ac2b8145450e00cf978e242c6809"}, {"154": "c4ec62b5d42dd787aa9933630f805a008ab055bb"}], "ctags": [{"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^const TOKEN_KEY = \"auth_token\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "USER_KEY", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^const USER_KEY = \"auth_user\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authFetch", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function authFetch(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "clearAuth", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function clearAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function getCurrentUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getStoredUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function getStoredUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function login({ email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ email, password })"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function logout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setStoredUser", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function setStoredUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export function setToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/real-time-analytics-dashboard-182952-182962/react_frontend/src/auth.js", "pattern": "/^export async function signup({ username, email, password }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ username, email, password })"}], "hash": "8ba354f6471ea62075b0f0677f9d1422", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/auth.js"}