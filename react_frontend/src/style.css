:root {
  --color-primary: #2563eb;
  --color-primary-600: #1d4ed8;
  --color-primary-700: #1e40af;
  --color-secondary: #f59e0b;
  --color-error: #ef4444;
  --bg: #f9fafb;
  --surface: #ffffff;
  --surface-2: #f3f4f6;
  --text: #111827;
  --muted: #6b7280;
  --border: rgba(17, 24, 39, 0.08);
  --shadow-sm: 0 1px 2px rgba(17, 24, 39, 0.06);
  --shadow-md: 0 6px 16px rgba(17, 24, 39, 0.08);
  --shadow-lg: 0 12px 30px rgba(17, 24, 39, 0.12);
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --ring: 0 0 0 3px rgba(37, 99, 235, 0.35);
  --transition-fast: 180ms cubic-bezier(.2,.8,.2,1);
  --transition-slow: 300ms cubic-bezier(.2,.8,.2,1);
  --grid-gap-sm: 12px;
  --grid-gap-md: 16px;
  --grid-gap-lg: 20px;
  --pad-sm: 12px;
  --pad-md: 16px;
  --pad-lg: 20px;
  --kpi-pill-bg: linear-gradient(135deg, rgba(37,99,235,.12), rgba(255,255,255,.5));
  --glass-bg: linear-gradient(180deg, rgba(255,255,255,0.66), rgba(255,255,255,0.42));
  --glass-border: 1px solid rgba(255,255,255,0.45);
  --grad-primary: linear-gradient(135deg, rgba(37,99,235,.1), rgba(29,78,216,.06));
  --grad-amber: linear-gradient(135deg, rgba(245,158,11,.15), rgba(245,158,11,.05));

  /* Chart tokens */
  --chart-grid-stroke: rgba(17,24,39,0.08);
  --chart-axis-stroke: #111827;
  --chart-tooltip-bg: #111827;
  --chart-tooltip-border: rgba(255,255,255,0.1);
  --chart-legend-text: #374151;
  --chart-palette-1: #2563EB;
  --chart-palette-2: #F59E0B;
  --chart-palette-3: #10B981;
  --chart-palette-4: #EF4444;
  --chart-palette-5: #8B5CF6;
  --chart-palette-6: #06B6D4;
  --chart-palette-7: #0EA5E9;
  --chart-palette-8: #14B8A6;
}

/* Reset and base */
*,
*::before,
*::after { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--bg);
  color: var(--text);
}

/* Focus visibility for accessibility */
:focus-visible { outline: none; box-shadow: var(--ring); border-radius: 8px; }

/* Generic container */
.container, .app-container {
  max-width: 1240px;
  margin: 0 auto;
  padding: var(--pad-md);
}

/* Header */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 0 14px;
}
.header h1 { margin: 0; font-size: 22px; letter-spacing: -0.01em; }
.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  background: rgba(37, 99, 235, 0.08);
  color: var(--color-primary);
  border: 1px solid rgba(37,99,235,.2);
}

/* Grid utilities */
.grid, .dashboard-grid, .grid-dashboard {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--grid-gap-md);
}
.grid--tight { gap: var(--grid-gap-sm); }
.grid--loose { gap: var(--grid-gap-lg); }
.col-span-2 { grid-column: span 1; }

@media (min-width: 768px) {
  .grid, .dashboard-grid, .grid-dashboard { grid-template-columns: repeat(2, 1fr); }
  .col-span-2 { grid-column: span 2; }
}
@media (min-width: 1100px) {
  .grid, .dashboard-grid, .grid-dashboard { grid-template-columns: repeat(3, 1fr); }
}

/* Cards */
.card, .dash-card {
  background: var(--surface);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
  padding: var(--pad-md);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  will-change: transform, box-shadow;
}
.card:hover, .dash-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: rgba(17,24,39,0.14);
}
.dash-card--elevated { background: var(--surface); box-shadow: var(--shadow-md); }
.dash-card--glass {
  background: var(--glass-bg);
  backdrop-filter: saturate(140%) blur(10px);
  -webkit-backdrop-filter: saturate(140%) blur(10px);
  border: var(--glass-border);
  box-shadow: var(--shadow-md);
}
.card--gradient { background: var(--grad-primary); }

/* Titles and typography */
.section-title, .dash-heading {
  font-weight: 700;
  font-size: 18px;
  letter-spacing: -0.01em;
  margin: 0 0 6px;
  color: #1f2937;
}
.section-subtitle, .dash-subheading {
  color: var(--muted);
  font-size: 13px;
  margin-top: -2px;
  margin-bottom: 8px;
}

/* KPI summary band */
.summary-band {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--grid-gap-md);
  margin-bottom: 12px;
}
.kpi-chip {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 999px;
  background: var(--kpi-pill-bg);
  border: 1px solid rgba(37,99,235,.18);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.4), 0 1px 2px rgba(17,24,39,.08);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}
.kpi-chip:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}
.kpi-chip__label {
  color: var(--muted);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: .02em;
}
.kpi-chip__value {
  color: var(--color-primary-700);
  font-weight: 700;
  font-variant-numeric: tabular-nums;
}
.kpi-chip--accent {
  background: var(--grad-amber);
  border-color: rgba(245,158,11,.25);
  color: #92400e;
}
.kpi-chip--shimmer { position: relative; overflow: hidden; }
.kpi-chip--shimmer::after {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: linear-gradient(120deg, transparent, rgba(255,255,255,.45), transparent);
  animation: shimmer 2.4s infinite;
  pointer-events: none;
  opacity: .8;
}
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Tables */
.table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
}
.table th,
.table td {
  text-align: left;
  padding: 10px 12px;
  border-bottom: 1px solid rgba(17, 24, 39, 0.06);
}
.table th {
  color: var(--muted);
  font-weight: 600;
  font-size: 12px;
  letter-spacing: .02em;
}
.table-scroll { overflow-x: auto; }

/* Buttons */
.button, .btn-primary {
  padding: 8px 12px;
  border-radius: 10px;
  background: var(--color-primary);
  color: white;
  border: 1px solid rgba(255,255,255,.25);
  cursor: pointer;
  transition: background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
  box-shadow: 0 4px 12px rgba(37,99,235,.18);
}
.button:hover, .btn-primary:hover {
  background: var(--color-primary-600);
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(37,99,235,.22);
}
.button:active, .btn-primary:active { transform: translateY(0); }

/* Chart containers and helpers */
.chart-card { padding: 8px 4px 0 0; }
.chart-wrap, .chart-container {
  position: relative;
  width: 100%;
  height: 240px;
}
.chart-wrap--tall { height: 300px; }
.chart-gradient { background: linear-gradient(180deg, rgba(37,99,235,0.04), rgba(255,255,255,0.9)); border-radius: var(--radius-md); }
.chart-legend {
  display: flex;
  gap: 10px;
  align-items: center;
  font-size: 12px;
  color: var(--muted);
  margin-top: 8px;
}
.legend-dot { width: 8px; height: 8px; border-radius: 999px; background: var(--color-primary); }

/* Animations for mount-in */
.fade-in-up { opacity: 0; transform: translateY(6px); animation: fadeUp var(--transition-slow) forwards; }
@keyframes fadeUp { to { opacity: 1; transform: translateY(0); } }

/* Chart theme helper classes (for SVG charts) */
.chart-theme--axis text { fill: #6b7280 !important; font-size: 12px !important; }
.chart-theme--grid line { stroke: rgba(17,24,39,0.08) !important; }
.chart-theme--tooltip {
  background: var(--chart-tooltip-bg) !important;
  color: #fff !important;
  border: 1px solid var(--chart-tooltip-border) !important;
  border-radius: 8px !important;
  box-shadow: var(--shadow-md) !important;
}

/* Responsive summary band */
@media (min-width: 768px) {
  .summary-band { grid-template-columns: repeat(3, 1fr); }
}
@media (min-width: 1100px) {
  .summary-band { grid-template-columns: repeat(4, 1fr); }
}

/* Utilities */
.text-muted { color: var(--muted); }
.text-strong { color: var(--text); font-weight: 600; }

/* Legacy compatibility for existing components */
.grid { display: grid; grid-template-columns: 1fr; gap: var(--grid-gap-md); }
